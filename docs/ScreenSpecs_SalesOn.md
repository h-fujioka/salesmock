# SalesOn 詳細画面仕様

本ドキュメントはSalesOnの各画面の詳細な仕様（レイアウト、UIコンポーネント、入力項目、バリデーション、操作フロー等）をまとめたものです。

---

## 1. AIエージェントホーム画面
### 1.1 画面目的
- 営業担当者・マネージャー・サポートスタッフがAIエージェント（Sela）からの提案・通知・アクションを一元的に把握・操作するための画面

### 1.2 レイアウト概要（暫定）
- ヘッダー、サイドバー、メインパネル（優先タスク・リスク・AI提案）、アクションパネル（履歴・通知）

### 1.3 UIコンポーネント一覧
- 優先タスクカード
- リスク案件カード
- AI提案リスト
- Selaへの指示・コマンド入力欄
- 通知・アラート表示
- 実行履歴リスト
- 承認・却下ボタン
- コメント・理由入力欄
- 詳細を見るボタン（各タスク・案件・提案に付与）
- 実行するボタン（AI提案やコマンド入力に対して）
- **AI自動実行設定トグル（ヘッダー右側に配置）**

### 1.4 入力項目・バリデーション
- Selaへの指示・コマンド入力欄（必須、適切な長さ）
- 承認・却下時のコメント（任意、適切な長さ）
- **顧客区分（新規/既存）**（必須、案件・タスク・リスク・AI提案の各リストに明示）
- **AI自動実行設定（オン/オフ）**（任意、設定変更時は確認ダイアログ表示）

### 1.5 操作フロー
1. ユーザーがSelaへの指示を入力し「実行する」ボタンを押下
2. AIが提案・アクションを表示
3. 各タスク・案件・提案の「詳細を見る」ボタンで詳細画面へ遷移
4. 必要に応じて承認・却下・コメント入力
5. 実行履歴・通知が更新

### 1.6 注意点・備考
- チャット形式ではなく、指示・コマンド形式の入力欄
- 重要な通知・リスクは色やアイコンで強調
- 「詳細を見る」ボタンは各カード・リスト項目に必須
- 「実行する」ボタンはAI提案やコマンド入力のアクションに必須
- **顧客区分（新規/既存）は必ず各案件・タスク・リスク・AI提案のリストに表示すること**
- **AI自動実行がオフの場合、AI提案や自動実行機能は無効化され、手動操作のみ可能**
- **AI設定変更時は確認ダイアログを表示し、現在の作業内容への影響を説明**

### 1.7 AI自動実行設定機能
#### 1.7.1 機能概要
- ヘッダー右側にAI自動実行のオン/オフを切り替えるトグルスイッチを配置
- 設定状態はローカルストレージに保存し、ページリロード後も維持
- AI自動実行がオフの場合、関連するAI機能の表示を調整

#### 1.7.2 UI配置
- ヘッダー右側（検索、カレンダー、ベル、アバターの左）に配置
- トグルスイッチの左側に「AI自動実行」ラベルを表示
- オン時：青色のトグル、オフ時：グレーのトグル

#### 1.7.3 動作仕様
- **オン時**：AI提案、自動実行、自動タスク生成が有効
- **オフ時**：AI提案は表示されず、手動操作のみ可能
- 設定変更時：確認ダイアログを表示し、現在の作業への影響を説明
- 設定状態はユーザーごとに保存

#### 1.7.4 表示制御
- AI自動実行がオフの場合：
  - AI提案リストを非表示
  - 自動実行履歴を非表示
  - AI自動生成タスクの「AI自動」ラベルを非表示
  - 手動操作のみ可能な旨をメッセージで表示

---

## 2. 案件管理画面
### 2.1 画面目的
- 担当案件の一覧・詳細・進捗・リスク・関連タスク・メールを一元管理

### 2.2 レイアウト概要
- サイドバー、案件リスト、案件詳細パネル、フィルター・検索バー

### 2.3 UIコンポーネント一覧
- 案件一覧リスト
- 案件詳細表示
- ステータス・優先度バッジ
- 進捗率グラフ
- コメント・履歴表示
- 案件編集フォーム
- フィルター・検索入力欄

### 2.4 入力項目・バリデーション
- 案件名（必須、適切な長さ）
- 顧客名（必須、適切な長さ）
- **顧客区分（新規/既存）（必須、案件ごとに明示）**
- 説明（任意、適切な長さ）
- 期限（日付、必須）
- 優先度（必須、選択式）
- コメント（任意、適切な長さ）

### 2.5 操作フロー
1. 案件リストから案件を選択
2. 詳細・進捗・履歴を確認
3. 編集・コメント・進捗更新

### 2.6 注意点・備考
- 発生源（メール/議事録/AI検知）を明示
- サポート案件はタグや色分けで識別
- **顧客区分（新規/既存）は必ず案件リスト・詳細に表示すること**

---

## 3. タスク管理画面
### 3.1 画面目的
- 担当タスクの一覧・優先度・進捗・完了・承認を効率的に管理

### 3.2 レイアウト概要
- サイドバー、タスクリスト、タスク詳細パネル、優先度・進捗バー

### 3.3 UIコンポーネント一覧
- タスク一覧テーブル
    - タスク名
    - 関連案件
    - 優先度
    - 期限
    - 残り日数（期限までの日数を自動計算して表示）
    - ステータス（未着手/進行中/完了 など）
    - AI/手動
    - 承認待ち
    - 顧客区分（新規/既存）
    - 詳細ボタン
- タスク詳細表示
- 優先度設定ボタン
- 進捗率バー
- ステータス表示
- タスク編集フォーム
- 承認・却下ボタン
- コメント・フィードバック欄

### 3.4 入力項目・バリデーション
- タスク名（必須、適切な長さ）
- 説明（任意、適切な長さ）
- 期限（日付、必須）
- 優先度（必須、選択式）
- 顧客区分（新規/既存）（必須、タスクごとに明示）
- コメント・フィードバック（任意、適切な長さ）

### 3.5 操作フロー
1. タスクリストからタスクを選択
2. 詳細・進捗・履歴を確認
3. 編集・進捗・完了・承認操作

### 3.6 注意点・備考
- AI自動生成タスクと手動タスクの区別を明示
- サポートスタッフ専用タスクはフィルターで抽出
- **顧客区分（新規/既存）は必ずタスクリスト・詳細に表示すること**

---

（他画面も同様のテンプレートで追記可能）
