# SalesOn UI設計情報

## 基本デザイン方針

### カラーパレット
- **基本カラー**: モノクロベース（グレースケール）
- **アクセントカラー**: 必要最小限の色使用
- **背景色**: 白（`bg-white`）
- **テキスト色**: 濃いグレー（`text-gray-700`）
- **ボーダー色**: 薄いグレー（`border-gray-200`）
- **バッジ・タグ**: グレー（`bg-gray-100`）背景、濃いグレー（`text-gray-800`）テキスト

### デザイン原則
1. **シンプル性**: 余計な装飾を避け、機能性を重視
2. **一貫性**: 全画面で統一されたデザインシステム
3. **可読性**: 適切なコントラストとフォントサイズ
4. **レスポンシブ**: 様々な画面サイズに対応
5. **アクセシビリティ**: 色だけでなく、形状やテキストでも情報を伝達

### コンポーネント設計
- **ボタン**: 白背景（`bg-white`）、グレーボーダー（`border-gray-200`）、ホバー時はグレー背景（`hover:bg-gray-50`）
- **カード**: 白背景（`bg-white`）、薄いグレーボーダー（`border-gray-200`）、影は最小限（`shadow-sm`）
- **テーブル**: 白背景（`bg-white`）、グレーセパレーター（`border-gray-200`）
- **バッジ・タグ**: グレー背景（`bg-gray-100`）、濃いグレーテキスト（`text-gray-800`）
- **プログレスバー**: グレー背景（`bg-gray-200`）、グレー塗りつぶし（`bg-gray-400`）
- **ヘッダータイトル**: 
  - コンポーネント: `@/components/ui/header-title`
  - テキスト: 「デモ環境」で固定（プロトタイプ環境表示用）
  - スタイル: 16px（`text-base`）、太字（`font-bold`）、文字間隔（`tracking-tight`）
  - テキストカラー: 濃いグレー（`text-gray-700`）
  - 用途: 全画面共通のヘッダー部分のタイトル表示

### 色使用の制限
- プロトタイプ段階では色分けによる区別を避ける
- 情報の階層は色ではなく、サイズ、太さ、配置で表現
- 緊急性や重要度は色ではなく、テキストやアイコンで表現
- 必要に応じてのみ、最小限のアクセントカラーを使用
- プロトタイプ環境であることを示すため、ヘッダータイトルは「デモ環境」で統一

---

## 画面設計ガイドライン

### 1. レイアウト原則
- **グリッドシステム**: 12カラムグリッドを基本とする（`grid-cols-12`）
- **スペーシング**: 8pxの倍数で統一（`p-2`, `p-4`, `p-6`, `p-8`）
- **マージン・パディング**: 16px（`p-4`）, 24px（`p-6`）, 32px（`p-8`）を基本とする
- **コンテナレイアウト**:
  - **ホーム画面**: width: 100% (フルスクリーン表示)（`w-full`）
  - **その他の画面**: 都度選択可能
    - パターンA: width: 100% (フルスクリーン)（`w-full`）
    - パター (中央寄せ)（`max-w-7xl mx-auto`）

### 2. タイポグラフィ
- **フォントファミリー**: システムフォント（`font-sans`）
- **見出し**: 
  - H1: 22px, 太字（`text-[22px] font-bold`）
  - H2: 20px, 太字（`text-xl font-bold`）
  - H3: 18px, 太字（`text-lg font-bold`）
- **本文**: 14px, 通常（`text-sm font-normal`）
- **キャプション**: 13px, 通常（`text-[13px] font-normal`）

### 3. コンポーネント仕様

#### 基本方針
- **shadcn/ui公式コンポーネント**: 基本的にshadcn/uiの公式で利用しているコンポーネントをそのまま利用
- **カスタマイズ**: 必要最小限のカスタマイズのみ実施
- **一貫性**: shadcn/uiのデザインシステムに準拠

#### 主要コンポーネント

##### ボタン（Button）
- **コンポーネント**: `@/components/ui/button`
- **バリアント**: 
  - `default`: プライマリボタン
  - `secondary`: セカンダリボタン
  - `outline`: アウトラインボタン
  - `ghost`: ゴーストボタン
- **サイズ**: 
  - `sm`: 32px高さ
  - `default`: 40px高さ
  - `lg`: 48px高さ

##### カード（Card）
- **コンポーネント**: `@/components/ui/card`
- **構成要素**:
  - `Card`: メインコンテナ
  - `CardHeader`: ヘッダー部分
  - `CardTitle`: タイトル
  - `CardDescription`: 説明文
  - `CardContent`: コンテンツ部分
  - `CardFooter`: フッター部分

##### テーブル（Table）
- **コンポーネント**: `@/components/ui/table`
- **構成要素**:
  - `Table`: テーブルコンテナ
  - `TableHeader`: ヘッダー行
  - `TableBody`: ボディ部分
  - `TableFooter`: フッター行
  - `TableRow`: 行
  - `TableHead`: ヘッダーセル
  - `TableCell`: データセル
- **フォントサイズ仕様**:
  - **ヘッダー**: 14px, セミボールド（`text-sm font-semibold`）
  - **データセル**: 14px, 通常（`text-sm font-normal`）
  - **キャプション**: 13px, 通常（`text-[13px] font-normal`）

##### フォーム要素
- **入力フンB: max-width: 1280pxィールド**: `@/components/ui/input`
- **テキストエリア**: `@/components/ui/textarea`
- **チェックボックス**: `@/components/ui/checkbox`
- **ドロップダウン**: `@/components/ui/dropdown-menu`
- **セレクト**: `@/components/ui/select`

##### バッジ・タグ
- **バッジ**: `@/components/ui/badge`
- **バリアント**: 
  - `default`: デフォルト
  - `secondary`: セカンダリ
  - `outline`: アウトライン

##### ダイアログ・モーダル
- **ダイアログ**: `@/components/ui/dialog`
- **構成要素**:
  - `Dialog`: メインコンテナ
  - `DialogTrigger`: トリガー
  - `DialogContent`: コンテンツ
  - `DialogHeader`: ヘッダー
  - `DialogTitle`: タイトル
  - `DialogDescription`: 説明
  - `DialogFooter`: フッター

##### タブ
- **コンポーネント**: `@/components/ui/tabs`
- **構成要素**:
  - `Tabs`: メインコンテナ
  - `TabsList`: タブリスト
  - `TabsTrigger`: タブトリガー
  - `TabsContent`: タブコンテンツ

##### アラート
- **コンポーネント**: `@/components/ui/alert`
- **構成要素**:
  - `Alert`: メインコンテナ
  - `AlertTitle`: タイトル
  - `AlertDescription`: 説明

##### アバター
- **コンポーネント**: `@/components/ui/avatar`
- **構成要素**:
  - `Avatar`: メインコンテナ
  - `AvatarImage`: 画像
  - `AvatarFallback`: フォールバック

##### プログレスバー
- **コンポーネント**: `@/components/ui/progress`
- **使用方法**: `value`プロパティで進捗率を指定

#### 新機能対応コンポーネント

##### ホーム画面専用コンポーネント

###### AI提案カード（AIProposalCard）
- **用途**: AIからの提案を表示・確認
- **構成要素**:
  - 提案タイトル
  - 提案内容
  - 優先度・重要度
  - 確認・却下ボタン
  - 理由入力欄
- **スタイル**: カード形式、確認待ち状態の視覚的表示

###### AI実行履歴リスト（AIHistoryList）
- **用途**: AIの自動実行履歴を時系列で表示
- **構成要素**:
  - 実行日時
  - 実行内容
  - ステータス（AI自動/人間確認・判断）
  - 結果・フィードバック
- **スタイル**: リスト形式、時系列表示

###### 確認・判断フロー（ApprovalFlow）
- **用途**: AI提案に対する人間の確認・判断プロセス
- **構成要素**:
  - 提案詳細表示
  - 確認・却下ボタン
  - 理由・コメント入力
  - 次アクション指定
- **スタイル**: モーダルまたはサイドパネル

###### サポートスタッフ専用ビュー（SupportView）
- **用途**: サポートスタッフ向けの特別なビュー
- **構成要素**:
  - サポート案件フィルター
  - 顧客対応履歴
  - AI提案との紐付け表示
  - サポート専用操作ボタン
- **スタイル**: タブ形式、フィルター機能付き

##### フィードバック・コメント機能

###### フィードバック入力フォーム（FeedbackForm）
- **用途**: AI提案やタスク完了時のフィードバック入力
- **構成要素**:
  - 評価スケール（1-5段階）
  - コメント入力欄
  - 改善提案入力欄
  - 次アクション指定
- **スタイル**: フォーム形式、段階的表示

###### コメント履歴（CommentHistory）
- **用途**: コメント・フィードバックの履歴表示
- **構成要素**:
  - 投稿者・日時
  - コメント内容
  - 関連タスク・案件
  - アクション履歴
- **スタイル**: タイムライン形式

##### タスク生成プロセス対応

###### タスク作成フォーム（TaskCreationForm）
- **用途**: 手動・自動・ハイブリッドタスク作成
- **構成要素**:
  - タスク名・説明
  - 期限・優先度
  - 関連案件選択
  - AI提案ベース編集機能
- **スタイル**: フォーム形式、AI提案表示エリア付き

###### AI提案表示エリア（AIProposalArea）
- **用途**: AI提案の表示・編集
- **構成要素**:
  - AI提案内容
  - 編集・カスタマイズ機能
  - 提案根拠表示
  - カスタマイズ履歴
- **スタイル**: カード形式、編集可能

#### カスタマイズ方針
- **色の変更**: shadcn/uiのデフォルトカラーを基本とする
- **サイズの調整**: 必要に応じてTailwindクラスで調整
- **レイアウト**: Flexbox、Grid、SpacingはTailwindクラスで制御
- **アニメーション**: shadcn/uiのデフォルトアニメーションを活用

### 4. アイコン
- **ライブラリ**: Lucide React
- **サイズ**: 16px（`w-4 h-4`）, 20px（`w-5 h-5`）, 24px（`w-6 h-6`）
- **色**: 濃いグレー（`text-gray-700`）
- **ホバー**: グレー（`hover:text-gray-500`）

#### アイコン利用ルール

##### 基本原則
- **統一性**: 全画面で`@/components/icons/Icon`コンポーネントを使用
- **一貫性**: 同じ機能には同じアイコンを使用
- **シンプル性**: 複雑な装飾を避け、機能性を重視

##### 使用方法
```jsx
import { Icon } from '@/components/icons';

// 基本使用
<Icon name="home" size="md" className="text-gray-700" />

// ボタン内での使用
<Button variant="ghost" size="icon">
  <Icon name="settings" size="sm" />
</Button>

// ホバー効果付き
<Icon name="arrow-right" size="lg" className="text-gray-700 hover:text-gray-500 transition-colors" />
```

##### サイズ選択ガイドライン
- **xs (13px)**: 極小アイコン、密集したリスト内
- **sm (16px)**: 小アイコン、テーブル内、補助的な表示
- **md (20px)**: 標準アイコン、ボタン内、ナビゲーション
- **lg (24px)**: 大アイコン、見出し付近、強調表示
- **xl (32px)**: 特大アイコン、カード内のメインアイコン
- **xxl (48px)**: 極大アイコン、空状態、エラー状態

##### アイコン選択ガイドライン

###### ナビゲーション系
- **ホーム**: `home`
- **設定**: `setting`
- **メニュー**: `menu`
- **戻る**: `arrow-left`
- **進む**: `arrow-right`

###### 操作系
- **追加**: `plus-circle`, `plus-large`, `plus-small`
- **削除**: `minus-circle`, `minus-large`, `minus-small`
- **編集**: `pen-line`（未実装の場合は`edit`）
- **確認**: `check`, `check-circle`
- **キャンセル**: `close-circle`, `close-large`, `close-small`
- **送信**: `send`
- **ダウンロード**: `download`
- **アップロード**: `upload`

###### ユーザー系
- **ユーザー**: `user`
- **ユーザーグループ**: `user-group`, `users`
- **プロフィール**: `profile`
- **ユーザー追加**: `user-plus`
- **ユーザー確認**: `user-check`
- **ユーザー質問**: `user-question`

###### データ・ファイル系
- **ファイル**: `file`
- **フォルダ**: `folder`
- **チャート**: `chart`, `chart-bar`, `chart-line`
- **検索**: `magnifying-glass`
- **フィルター**: `filter`

###### コミュニケーション系
- **メール**: `mail`
- **コメント**: `comment`, `comments`
- **通知**: `bell`
- **共有**: `share`
- **カレンダー**: `calendar`

###### 状態・評価系
- **質問**: `question`, `question-circle`, `question-square`
- **いいね**: `thumbs-up`
- **よくない**: `thumbs-down`
- **AI**: `ai-sparkles`

##### 色使用ルール
- **基本色**: `text-gray-700`（濃いグレー）
- **ホバー色**: `text-gray-500`（グレー）
- **無効状態**: `text-gray-400`（薄いグレー）
- **エラー状態**: `text-red-500`（赤）
- **成功状態**: `text-green-500`（緑）
- **警告状態**: `text-yellow-500`（黄）

##### アクセシビリティ対応
- **aria-label**: アイコンのみの場合は必ずaria-labelを設定
- **alt属性**: 画像アイコンの場合はalt属性を設定
- **フォーカス表示**: クリック可能なアイコンはフォーカス表示を明確に

```jsx
// アクセシビリティ対応例
<Icon 
  name="settings" 
  size="md" 
  className="text-gray-700 hover:text-gray-500"
  onClick={handleSettingsClick}
  aria-label="設定を開く"
/>
```

##### 禁止事項
- **直接SVG使用**: `@/components/icons/Icon`以外でのアイコン使用を禁止
- **外部アイコンライブラリ**: プロジェクト内のアイコン以外の使用を禁止
- **色の多用**: プロトタイプ段階では色による区別を避ける
- **サイズの混在**: 同じ機能内で異なるサイズのアイコンを混在させない

##### アイコン追加手順
1. SVGファイルを`frontend/src/components/icons/`に配置
2. 自動生成スクリプトでReactコンポーネントを生成
3. `frontend/src/components/icons/index.ts`でエクスポート
4. `frontend/src/app/icons/page.tsx`で確認
5. このガイドラインにアイコン選択ガイドラインを追加

### 5. アニメーション
- **トランジション**: 0.2s ease-in-out（`transition-all duration-200 ease-in-out`）
- **ホバー効果**: 透明度変更（`hover:opacity-80`）
- **ローディング**: シンプルなスピナー（`animate-spin`）

---

## レスポンシブデザイン

### ブレークポイント
- **モバイル**: 320px - 768px（`sm:`）
- **タブレット**: 768px - 1024px（`md:`）
- **デスクトップ**: 1024px以上（`lg:`）

### モバイル対応
- **ナビゲーション**: ハンバーガーメニュー
- **テーブル**: 横スクロールまたはカード表示（`overflow-x-auto`）
- **フォーム**: 縦積みレイアウト（`flex-col`）
- **ボタン**: タッチしやすいサイズ（44px以上）（`h-11`）

---

## アクセシビリティ

### 色覚特性への配慮
- **コントラスト比**: 4.5:1以上
- **色だけでなく形状でも情報を表現**
- **フォーカス表示**: 明確なフォーカスインジケーター（`focus:ring-2 focus:ring-gray-500`）

### キーボードナビゲーション
- **Tab順序**: 論理的な順序
- **Enter/Space**: ボタン・リンクのアクティベーション
- **矢印キー**: リスト・テーブルの移動

### スクリーンリーダー対応
- **セマンティックHTML**: 適切なタグ使用
- **aria属性**: 必要な場合のみ使用
- **alt属性**: 画像の代替テキスト

---

## パフォーマンス

### 最適化
- **画像**: WebP形式、適切なサイズ
- **フォント**: システムフォント優先（`font-sans`）
- **CSS**: 不要なスタイル削除
- **JavaScript**: 遅延読み込み

### ローディング状態
- **スケルトン**: コンテンツ読み込み中（`animate-pulse`）
- **プログレスバー**: 処理進行状況
- **エラー状態**: 明確なエラーメッセージ

---

## ブランディング

### ロゴ・アイコン
- **シンプル**: 複雑な装飾を避ける
- **スケーラブル**: 様々なサイズに対応
- **一貫性**: 全画面で統一された使用

### トーン・マナー
- **プロフェッショナル**: ビジネス向け
- **親しみやすさ**: 硬すぎない表現
- **信頼性**: 安定感のあるデザイン

---

## 実装ガイドライン

### CSS設計
- **Tailwind CSS**: ユーティリティファースト
- **カスタムCSS**: 必要最小限
- **変数**: 色、サイズ、スペーシング

### レイアウト実装例
#### ホーム画面（固定）
```jsx
<div className="w-full px-4">
  {/* ホーム画面のコンテンツ */}
</div>
```

#### その他の画面（選択可能）
```jsx
{/* パターンA: フルスクリーン */}
<div className="w-full px-4">
  {/* コンテンツ */}
</div>

{/* パターンB: 中央寄せ */}
<div className="max-w-7xl mx-auto px-4">
  {/* コンテンツ */}
</div>
```

### コンポーネント設計
- **再利用性**: 汎用的なコンポーネント
- **プロパティ**: 適切な型定義
- **ドキュメント**: Storybookでの管理

### テスト
- **ビジュアルテスト**: デザインの一貫性
- **ユーザビリティテスト**: 実際の使用感
- **アクセシビリティテスト**: アクセシビリティの確認 